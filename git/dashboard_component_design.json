{
  "projectName": "차량 정비 관리 시스템",
  "lastUpdated": "2023-04-09",
  "component": "Dashboard",
  "description": "차량 및 정비 현황을 한눈에 볼 수 있는 대시보드 컴포넌트",
  "dependencies": [
    "react",
    "react-router-dom",
    "recharts",
    "dayjs"
  ],
  "props": {
    "userId": {
      "type": "string",
      "optional": true,
      "description": "특정 사용자의 대시보드를 볼 경우 사용"
    },
    "shopId": {
      "type": "string",
      "optional": true,
      "description": "특정 정비소의 대시보드를 볼 경우 사용"
    },
    "dateRange": {
      "type": "{ startDate: string; endDate: string }",
      "optional": true,
      "description": "대시보드 데이터 조회 기간"
    },
    "refreshInterval": {
      "type": "number",
      "optional": true,
      "defaultValue": 0,
      "description": "데이터 자동 갱신 간격(초), 0이면 자동 갱신 안함"
    }
  },
  "subComponents": {
    "StatisticsCard": {
      "description": "주요 통계 수치를 보여주는 카드 컴포넌트",
      "props": {
        "title": {
          "type": "string",
          "description": "카드 제목"
        },
        "value": {
          "type": "number | string",
          "description": "표시할 값"
        },
        "prevValue": {
          "type": "number | string",
          "optional": true,
          "description": "비교를 위한 이전 값"
        },
        "icon": {
          "type": "ReactNode",
          "optional": true,
          "description": "카드에 표시할 아이콘"
        },
        "color": {
          "type": "string",
          "optional": true,
          "description": "카드 강조 색상"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    },
    "MaintenanceStatusChart": {
      "description": "정비 상태별 차트 컴포넌트",
      "props": {
        "data": {
          "type": "{ status: string; count: number; color: string }[]",
          "description": "차트 데이터"
        },
        "height": {
          "type": "number",
          "optional": true,
          "defaultValue": 300,
          "description": "차트 높이"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    },
    "VehicleTypeChart": {
      "description": "차량 유형별 분포 차트 컴포넌트",
      "props": {
        "data": {
          "type": "{ type: string; count: number; color: string }[]",
          "description": "차트 데이터"
        },
        "height": {
          "type": "number",
          "optional": true,
          "defaultValue": 300,
          "description": "차트 높이"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    },
    "MaintenanceTimeline": {
      "description": "최근 정비 일정 타임라인 컴포넌트",
      "props": {
        "data": {
          "type": "{ id: string; title: string; date: string; status: string; vehicleId: string; vehicleName: string }[]",
          "description": "타임라인 데이터"
        },
        "maxItems": {
          "type": "number",
          "optional": true,
          "defaultValue": 5,
          "description": "표시할 최대 항목 수"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    },
    "AlertsPanel": {
      "description": "알림 및 경고 패널 컴포넌트",
      "props": {
        "alerts": {
          "type": "{ id: string; message: string; type: 'info' | 'warning' | 'error'; timestamp: string; read: boolean }[]",
          "description": "알림 데이터"
        },
        "onMarkAsRead": {
          "type": "function",
          "description": "알림을.읽음 표시 함수"
        },
        "maxItems": {
          "type": "number",
          "optional": true,
          "defaultValue": 5,
          "description": "표시할 최대 항목 수"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    },
    "RecentVehicles": {
      "description": "최근 등록된 차량 목록 컴포넌트",
      "props": {
        "vehicles": {
          "type": "{ id: string; make: string; model: string; year: number; plate: string; status: string }[]",
          "description": "차량 목록 데이터"
        },
        "maxItems": {
          "type": "number",
          "optional": true,
          "defaultValue": 5,
          "description": "표시할 최대 항목 수"
        },
        "isLoading": {
          "type": "boolean",
          "optional": true,
          "description": "로딩 상태 표시"
        }
      }
    }
  },
  "states": {
    "dashboardData": {
      "type": "object",
      "description": "대시보드 표시용 데이터",
      "properties": {
        "vehicleStats": {
          "description": "차량 관련 통계",
          "properties": {
            "total": "number",
            "active": "number",
            "maintenance": "number",
            "inactive": "number",
            "byType": "{ type: string; count: number; color: string }[]"
          }
        },
        "maintenanceStats": {
          "description": "정비 관련 통계",
          "properties": {
            "total": "number",
            "scheduled": "number",
            "inProgress": "number",
            "completed": "number",
            "byStatus": "{ status: string; count: number; color: string }[]",
            "byMonth": "{ month: string; count: number }[]"
          }
        },
        "recentMaintenance": {
          "description": "최근 정비 기록",
          "type": "{ id: string; title: string; date: string; status: string; vehicleId: string; vehicleName: string }[]"
        },
        "alerts": {
          "description": "알림 및 경고",
          "type": "{ id: string; message: string; type: 'info' | 'warning' | 'error'; timestamp: string; read: boolean }[]"
        },
        "recentVehicles": {
          "description": "최근 등록된 차량",
          "type": "{ id: string; make: string; model: string; year: number; plate: string; status: string }[]"
        }
      }
    },
    "dateRangeState": {
      "type": "{ startDate: string; endDate: string }",
      "description": "현재 선택된 날짜 범위"
    },
    "isLoading": {
      "type": "boolean",
      "description": "데이터 로딩 상태"
    },
    "error": {
      "type": "string | null",
      "description": "오류 메시지"
    },
    "refreshTimerId": {
      "type": "number | null",
      "description": "자동 갱신용 타이머 ID"
    }
  },
  "hooks": {
    "useEffect": [
      {
        "dependencies": ["shopId", "dateRangeState"],
        "description": "shopId나 날짜 범위가 변경되면 대시보드 데이터 로드"
      },
      {
        "dependencies": ["refreshInterval"],
        "description": "refreshInterval이 변경되면 자동 갱신 타이머 설정"
      }
    ],
    "useMemo": [
      {
        "dependencies": ["dashboardData.vehicleStats"],
        "description": "차량 유형별 차트 데이터 계산"
      },
      {
        "dependencies": ["dashboardData.maintenanceStats"],
        "description": "정비 상태별 차트 데이터 계산"
      }
    ]
  },
  "functions": {
    "loadDashboardData": {
      "description": "대시보드 데이터 로드",
      "async": true,
      "parameters": [],
      "implementation": "vehicleService, maintenanceService, notificationService 호출하여 데이터 로드"
    },
    "handleDateRangeChange": {
      "description": "날짜 범위 변경 처리",
      "parameters": [
        {
          "name": "startDate",
          "type": "string"
        },
        {
          "name": "endDate",
          "type": "string"
        }
      ],
      "implementation": "새 날짜 범위를 상태에 저장하고 데이터 다시 로드"
    },
    "handleRefresh": {
      "description": "수동 새로고침 처리",
      "parameters": [],
      "implementation": "현재 설정으로 데이터 다시 로드"
    },
    "startAutoRefresh": {
      "description": "자동 갱신 시작",
      "parameters": [],
      "implementation": "setInterval을 사용하여 주기적으로 데이터 로드"
    },
    "stopAutoRefresh": {
      "description": "자동 갱신 중지",
      "parameters": [],
      "implementation": "clearInterval을 사용하여 타이머 제거"
    },
    "handleAlertMarkAsRead": {
      "description": "알림을 읽음으로 표시",
      "async": true,
      "parameters": [
        {
          "name": "alertId",
          "type": "string"
        }
      ],
      "implementation": "notificationService를 호출하여 알림 상태 업데이트"
    },
    "getComparisonPercent": {
      "description": "이전 값과 현재 값 비교하여 증감률 계산",
      "parameters": [
        {
          "name": "current",
          "type": "number"
        },
        {
          "name": "previous",
          "type": "number"
        }
      ],
      "returnType": "number",
      "implementation": "((current - previous) / previous) * 100 계산"
    }
  },
  "layout": {
    "desktop": {
      "description": "데스크톱 레이아웃",
      "grid": "Grid 기반 레이아웃으로 4열 구성"
    },
    "tablet": {
      "description": "태블릿 레이아웃",
      "grid": "Grid 기반 레이아웃으로 2열 구성"
    },
    "mobile": {
      "description": "모바일 레이아웃",
      "grid": "Grid 기반 레이아웃으로 1열 구성"
    }
  },
  "styling": {
    "colorScheme": {
      "primary": "#3B82F6",
      "secondary": "#6B7280",
      "success": "#10B981",
      "warning": "#F59E0B",
      "danger": "#EF4444",
      "background": "#F9FAFB",
      "card": "#FFFFFF",
      "text": {
        "primary": "#111827",
        "secondary": "#6B7280",
        "light": "#9CA3AF"
      }
    },
    "animation": {
      "transitions": "모든 상태 변화에 부드러운 전환 효과 적용",
      "loading": "Skeleton 컴포넌트로 로딩 상태 표시"
    },
    "responsiveness": "tailwindcss 반응형 클래스 사용"
  },
  "dataFlow": {
    "services": ["vehicleService", "maintenanceService", "notificationService"],
    "apiEndpoints": [
      {
        "path": "/dashboard/statistics",
        "method": "GET",
        "params": {
          "shopId": "string?",
          "userId": "string?",
          "startDate": "string?",
          "endDate": "string?"
        },
        "description": "대시보드 통계 데이터 조회"
      },
      {
        "path": "/vehicles/recent",
        "method": "GET",
        "params": {
          "shopId": "string?",
          "limit": "number?"
        },
        "description": "최근 등록된 차량 목록 조회"
      },
      {
        "path": "/maintenance/recent",
        "method": "GET",
        "params": {
          "shopId": "string?",
          "limit": "number?"
        },
        "description": "최근 정비 기록 조회"
      },
      {
        "path": "/notifications",
        "method": "GET",
        "params": {
          "userId": "string?",
          "read": "boolean?",
          "limit": "number?"
        },
        "description": "사용자 알림 조회"
      }
    ]
  },
  "accessibility": {
    "features": [
      "모든 대화형 요소에 ARIA 속성 추가",
      "키보드 탐색 지원",
      "고대비 모드 지원",
      "스크린 리더 호환성"
    ]
  },
  "implementation": {
    "files": [
      {
        "path": "src/components/dashboard/Dashboard.tsx",
        "description": "대시보드 메인 컴포넌트"
      },
      {
        "path": "src/components/dashboard/StatisticsCard.tsx",
        "description": "통계 카드 컴포넌트"
      },
      {
        "path": "src/components/dashboard/MaintenanceStatusChart.tsx",
        "description": "정비 상태 차트 컴포넌트"
      },
      {
        "path": "src/components/dashboard/VehicleTypeChart.tsx",
        "description": "차량 유형 차트 컴포넌트"
      },
      {
        "path": "src/components/dashboard/MaintenanceTimeline.tsx",
        "description": "정비 타임라인 컴포넌트"
      },
      {
        "path": "src/components/dashboard/AlertsPanel.tsx",
        "description": "알림 패널 컴포넌트"
      },
      {
        "path": "src/components/dashboard/RecentVehicles.tsx",
        "description": "최근 차량 목록 컴포넌트"
      },
      {
        "path": "src/components/dashboard/DateRangePicker.tsx",
        "description": "날짜 범위 선택 컴포넌트"
      },
      {
        "path": "src/services/dashboardService.ts",
        "description": "대시보드 관련 API 서비스"
      }
    ]
  }
} 